export const HEALTH_DATA = [
    // --- Fever & Common Cold ---
    { keywords: ["fever", "temperature", "high heat"], answer: "A fever is usually a sign that your body is fighting an infection. Rest, drink plenty of fluids, and take paracetamol if needed. If your temperature exceeds 103°F (39.4°C) or lasts more than 3 days, consult a doctor." },
    { keywords: ["cold", "runny nose", "sneeze"], answer: "Common cold symptoms include a runny nose, sneezing, and sore throat. Stay hydrated, rest, and use over-the-counter decongestants. Antibiotics do not work on viral colds." },
    { keywords: ["cough", "dry cough", "wet cough"], answer: "For a dry cough, honey and warm water can help. For a wet cough, stay hydrated to thin mucus. If coughing persists for more than 3 weeks or you cough up blood, see a doctor immediately." },
    { keywords: ["headache", "migraine"], answer: "Headaches can be caused by stress, dehydration, or lack of sleep. Drink water and rest in a dark room. If the headache is sudden and severe, seek medical attention." },
    { keywords: ["sore throat", "throat pain"], answer: "Gargle with warm salt water and stay hydrated. Lozenges can provide temporary relief. If you have difficulty swallowing or a high fever, see a doctor." },

    // --- COVID-19 ---
    { keywords: ["covid", "corona", "virus"], answer: "COVID-19 symptoms include fever, cough, loss of taste/smell, and fatigue. Isolate yourself and get tested. If you have trouble breathing, seek emergency care." },
    { keywords: ["vaccine", "vaccination"], answer: "Vaccines are effective at preventing severe illness from COVID-19. Consult your local health guidelines for booster shots and availability." },
    { keywords: ["mask", "n95"], answer: "Wearing a mask, especially an N95, helps reduce the spread of respiratory viruses like COVID-19 and the flu." },
    { keywords: ["quarantine", "isolation"], answer: "If you test positive for COVID-19, isolate for at least 5 days or until you are fever-free for 24 hours without medication." },

    // --- Pregnancy & Women's Health ---
    { keywords: ["pregnant", "pregnancy", "expecting"], answer: "During pregnancy, eat a balanced diet, take prenatal vitamins (folic acid), and attend all prenatal checkups. Avoid alcohol and smoking." },
    { keywords: ["morning sickness", "nausea"], answer: "Morning sickness is common in the first trimester. Eat small, frequent meals and stay hydrated. Ginger tea may help." },
    { keywords: ["period", "menstruation", "cramps"], answer: "Menstrual cramps can be relieved with a heating pad, exercise, and over-the-counter pain relievers. If pain is severe, consult a gynecologist." },
    { keywords: ["baby", "infant", "newborn"], answer: "Newborns need frequent feeding and sleep. Ensure they sleep on their back to prevent SIDS. If a baby has a fever over 100.4°F, call a doctor immediately." },

    // --- Diabetes & Blood Sugar ---
    { keywords: ["diabetes", "sugar", "insulin"], answer: "Diabetes management involves monitoring blood sugar, eating a balanced diet low in sugar/carbs, and exercising regularly. Take medication as prescribed." },
    { keywords: ["hypoglycemia", "low sugar"], answer: "Symptoms of low blood sugar include shaking, sweating, and confusion. Eat 15g of fast-acting carbs (like juice or candy) and recheck levels in 15 minutes." },
    { keywords: ["hyperglycemia", "high sugar"], answer: "High blood sugar causes thirst, frequent urination, and fatigue. Drink water and check your ketones if you have Type 1 diabetes. Consult your doctor if levels remain high." },

    // --- Heart & Blood Pressure ---
    { keywords: ["blood pressure", "bp", "hypertension"], answer: "High blood pressure often has no symptoms. Reduce salt intake, exercise, and manage stress. Monitor your BP regularly at home." },
    { keywords: ["heart attack", "chest pain"], answer: "Signs of a heart attack include chest pain/pressure, shortness of breath, and pain in the arm or jaw. Call emergency services (112/108) immediately." },
    { keywords: ["cholesterol"], answer: "High cholesterol increases heart disease risk. Eat a diet low in saturated fats, exercise, and take statins if prescribed by your doctor." },

    // --- First Aid & Emergency ---
    { keywords: ["burn", "scald"], answer: "Run cool (not cold) water over the burn for 10-15 minutes. Cover with a sterile, non-stick bandage. Do not apply ice or butter." },
    { keywords: ["cut", "bleeding", "wound"], answer: "Apply direct pressure to stop bleeding. Clean the wound with water and apply an antibiotic ointment and bandage. Seek stitches for deep cuts." },
    { keywords: ["choking"], answer: "If someone is choking, perform the Heimlich maneuver (abdominal thrusts). If they become unconscious, start CPR and call for help." },
    { keywords: ["cpr"], answer: "Push hard and fast in the center of the chest (100-120 compressions per minute). Continue until help arrives." },

    // --- General Wellness ---
    { keywords: ["sleep", "insomnia"], answer: "Adults need 7-9 hours of sleep. Maintain a consistent schedule, avoid screens before bed, and create a relaxing bedtime routine." },
    { keywords: ["water", "hydration"], answer: "Drink at least 8 glasses (2 liters) of water daily. Increase intake if it's hot or you are exercising." },
    { keywords: ["exercise", "workout"], answer: "Aim for at least 150 minutes of moderate aerobic activity or 75 minutes of vigorous activity per week, plus muscle-strengthening exercises." },
    { keywords: ["stress", "anxiety"], answer: "Manage stress with deep breathing, meditation, exercise, and talking to friends. If anxiety affects your daily life, seek professional help." },
    { keywords: ["diet", "nutrition"], answer: "Eat a variety of fruits, vegetables, whole grains, and lean proteins. Limit processed foods, sugary drinks, and excessive salt." },

    // --- Stomach & Digestion ---
    { keywords: ["stomach", "pain", "abdominal"], answer: "Stomach pain can be caused by gas, indigestion, or constipation. Ginger or peppermint tea may help. If pain is severe or accompanied by vomiting blood, see a doctor." },
    { keywords: ["diarrhea", "loose motion"], answer: "Stay hydrated with ORS (Oral Rehydration Solution) or water. Avoid dairy and spicy foods. The BRAT diet (Bananas, Rice, Applesauce, Toast) can help." },
    { keywords: ["vomiting", "nausea"], answer: "Sip small amounts of clear fluids. Avoid solid food until vomiting stops. If you cannot keep fluids down for 24 hours, seek medical help." },
    { keywords: ["acidity", "heartburn", "gerd"], answer: "Avoid spicy/oily foods, caffeine, and lying down after eating. Antacids can provide relief. If frequent, consult a doctor." },

    // --- Skin & Hair ---
    { keywords: ["rash", "itchy"], answer: "Rashes can be allergic reactions or infections. Keep the area clean and dry. Calamine lotion or antihistamines may help. If it spreads or hurts, see a doctor." },
    { keywords: ["acne", "pimples"], answer: "Wash your face twice daily with a gentle cleanser. Avoid popping pimples. Over-the-counter benzoyl peroxide or salicylic acid can help." },
    { keywords: ["hair fall", "hair loss"], answer: "Hair loss can be due to stress, diet, or genetics. Ensure you are getting enough protein and iron. Consult a dermatologist for treatments." },

    // --- Mental Health ---
    { keywords: ["depression", "sad"], answer: "Depression is a serious condition. Symptoms include persistent sadness, loss of interest, and fatigue. Please reach out to a mental health professional or a trusted friend." },
    { keywords: ["panic attack"], answer: "During a panic attack, focus on your breathing. Inhale for 4 seconds, hold for 7, and exhale for 8. Remind yourself that you are safe and it will pass." },

    // --- Default/Generic ---
    { keywords: ["hello", "hi", "namaste", "hey"], answer: "Namaste! I am Sanjeevani AI. How can I help you with your health today?" },
    { keywords: ["who are you", "what are you"], answer: "I am Sanjeevani AI, your personal health assistant. I can answer health questions and help you manage your medical needs." },
    { keywords: ["thank you", "thanks"], answer: "You're welcome! Stay healthy and safe." },
    { keywords: ["bye", "goodbye"], answer: "Goodbye! Take care of your health." }
];

export const findLocalAnswer = (query) => {
    const lowerQuery = query.toLowerCase();

    // 1. Direct match (best for greetings)
    const directMatch = HEALTH_DATA.find(item => item.keywords.some(k => lowerQuery === k));
    if (directMatch) return directMatch.answer;

    // 2. Keyword scoring match
    let bestMatch = null;
    let maxScore = 0;

    HEALTH_DATA.forEach(item => {
        let score = 0;
        item.keywords.forEach(keyword => {
            if (lowerQuery.includes(keyword)) {
                score += keyword.length; // Longer keywords weigh more
            }
        });

        if (score > maxScore) {
            maxScore = score;
            bestMatch = item;
        }
    });

    if (bestMatch && maxScore > 2) { // Threshold to avoid weak matches
        return bestMatch.answer;
    }

    return null;
};
